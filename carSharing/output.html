<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>CarJackers!</title>
        <link href="static/css/style.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css"/>
        <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
        <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    </head>
    <body>
    <header>
        <div id="content">
            <h1><strong>CAR</strong>JACKERS</h1>
        </div>
    </header>
    <div id="searchbars">
        <form method="post" action="./scrap.php">
            <table>
                <tr>
                    <td>I am a:</td>
                    <td>
                        <table>
                            <tr>
                                <td><input name="type" id="fr1" type="radio" value="passenger" checked>Passenger</td>
                                <td><input name="type" id="fr1" type="radio" value="driver">Driver</td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>From:</td>
                    <td><input name="from" id="fr1" type="text" value="San Francisco, CA"></td>
                </tr>
                <tr>
                    <td>To:</td>
                    <td><input name="to" id="fr1" type="text" value="Los Angeles, CA"></td>
                </tr>
                <tr>
                    <td>Date:</td>
                    <td><input name="date" type="text" id="datepicker" placeholder="Choose a date"/></td>
                    <script>
                        $(function() {
                            $('#datepicker').datepicker({minDate:0});
                        });
                    </script>
                </tr>
                <tr>
                    <td></td>
                    <td><input id="sub" type="submit" value="Search" style="width: 100%;"></td>
                </tr>
            </table>
        </form>
    </div>
    <div style="float: left">
        <textarea rows="10" cols="75">Do something else with this area in results page. Also update the fields to the left.</textarea>
    </div>
    <div id="results"></div>
        <script>
        $("document").ready(function() {
            $.getJSON("results.json", function(data) {
                var result = [];
                result.push("<table border='3'>");
                var urlList = "";
                $.each(data, function(i, item) {
                    result.push("<tr>");
                    result.push("<td id=1>"+item.name+"</td>");
                    result.push("</td>");
                    result.push("<td id=2>"+item.originCity+" to "+item.destinationCity+"</td>");
                    result.push("</tr>");
                    result.push("<tr>");
                    result.push("<td id=5>");
                    result.push("<img src=\""+item.image+"\"/>");
                    result.push("</td>");
                    result.push("<td id=3>   "+item.driver+"</td>");
                    result.push("</tr>");
                    
                    result.push("<td id=4>");
                    result.push("<a href= "+item.link+" target =\"_blank\" >More info here</a>");
                    result.push("</td>");
                                        
                        
                    result.push("<td id=6>");
                    result.push(" "+item.price+" a ride on "+item.date);
                    result.push("</td>");
                    
                    result.push("</tr>");
                });
                result.push("</table>");
                $('#results').append(result.join(''));
            });
        });
        </script>
    </body>
</html>
